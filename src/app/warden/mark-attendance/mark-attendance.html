<!-- ğŸŒ¿ Navbar -->
<nav class="navbar">
  <div class="nav-logo">ğŸ« Hostel Manager</div>
  <ul class="nav-links">
    <li><a href="/dashboard">Dashboard</a></li>
    <li><a href="/mark-attendance" class="active">Attendance</a></li>
    <li><a href="/complaints">Complaints</a></li>
    <li><a href="/leaves">Leaves</a></li>
    <li><a href="/logout">Logout</a></li>
  </ul>
</nav>

<!-- ğŸ“‹ Main Attendance Section -->
<div class="attendance-container">
  <h2>ğŸ“‹ Mark Attendance</h2>

  <div *ngIf="loading" class="loading">Loading...</div>
  <div *ngIf="error" class="alert error">{{ error }}</div>
  <div *ngIf="message" class="alert success">{{ message }}</div>

  <!-- Table Section -->
  <table *ngIf="students.length && !loading" class="attendance-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Student Name</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of students">
        <td>{{ s.id }}</td>
        <td>{{ s.fullName || s.username }}</td>
        <td>
          <span
            [ngClass]="{
              present: getStatus(s.id) === 'PRESENT',
              absent: getStatus(s.id) === 'ABSENT'
            }"
          >
            {{ getStatus(s.id) }}
          </span>
        </td>
        <td>
          <button (click)="mark(s.id, 'PRESENT')" class="present-btn">âœ… Present</button>
          <button (click)="mark(s.id, 'ABSENT')" class="absent-btn">âŒ Absent</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Submit Button -->
  <div class="submit-section" *ngIf="students.length && !loading">
    <button class="submit-btn" (click)="submitAttendance()">ğŸ’¾ Submit Attendance</button>
  </div>

  <p *ngIf="!students.length && !loading" class="no-data">No students found.</p>
</div>

<!-- ğŸŒ¿ Footer -->
<footer class="footer">
  <p>Â© 2025 Hostel Management System | Designed by Purnachandra Mallick</p>
</footer>
